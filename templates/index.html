{% extends "base.html" %}

{% block title %}Home - SmartAttendance{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50">
    <!-- Hero Section -->
    <div class="relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
            <div class="text-center">
                <!-- Logo and Brand -->
                <div class="flex items-center justify-center space-x-4 mb-8">
                    <div class="w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-2xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-user-check text-white text-2xl"></i>
                    </div>
                    <h1 class="text-4xl lg:text-6xl font-bold text-gray-900">
                        Smart<span class="text-primary">Attendance</span>
                    </h1>
                </div>

                <!-- Tagline -->
                <p class="text-xl lg:text-2xl text-gray-600 mb-12 max-w-3xl mx-auto">
                    Revolutionary face recognition attendance system for modern institutions
                </p>

                <!-- Features Grid -->
                <div class="grid md:grid-cols-3 gap-8 mb-16">
                    <div class="feature-card">
                        <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-bolt text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Lightning Fast</h3>
                        <p class="text-gray-600">Mark attendance in seconds with our advanced face recognition technology</p>
                    </div>

                    <div class="feature-card">
                        <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-teal-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-shield-alt text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Secure & Reliable</h3>
                        <p class="text-gray-600">Military-grade security with anti-spoofing protection</p>
                    </div>

                    <div class="feature-card">
                        <div class="w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-chart-bar text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Smart Analytics</h3>
                        <p class="text-gray-600">Comprehensive reports and attendance tracking</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login/Register Section -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
        {% if not session.user_id %}
            <!-- Login Forms -->
            <div class="grid lg:grid-cols-2 gap-8 mb-16">
                <!-- Student Login -->
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-primary to-blue-600 px-6 py-8 text-white text-center">
                        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-graduation-cap text-2xl"></i>
                        </div>
                        <h2 class="text-2xl font-bold mb-2">Student Portal</h2>
                        <p class="text-blue-100">Access your attendance dashboard</p>
                    </div>
                    
                    <div class="p-8">
                        <form method="POST" action="{{ url_for('login') }}" class="space-y-6">
                            <input type="hidden" name="user_type" value="student">
                            
                            <div>
                                <label for="student_id" class="block text-sm font-semibold text-gray-700 mb-2">
                                    <i class="fas fa-id-card mr-1"></i>Roll Number
                                </label>
                                <input type="text" id="student_id" name="user_id" required
                                       placeholder="Enter your roll number"
                                       class="input-field">
                            </div>

                            <button type="submit" class="btn-primary w-full">
                                <i class="fas fa-sign-in-alt mr-2"></i>
                                Login as Student
                            </button>
                        </form>

                        <div class="mt-6 text-center">
                            <p class="text-gray-600 mb-3">New student?</p>
                            <a href="{{ url_for('student_register') }}" class="btn-outline">
                                <i class="fas fa-user-plus mr-2"></i>
                                Register Now
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Teacher Login -->
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-secondary to-green-600 px-6 py-8 text-white text-center">
                        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-chalkboard-teacher text-2xl"></i>
                        </div>
                        <h2 class="text-2xl font-bold mb-2">Teacher Portal</h2>
                        <p class="text-green-100">Manage students and attendance</p>
                    </div>
                    
                    <div class="p-8">
                        <form method="POST" action="{{ url_for('login') }}" class="space-y-6">
                            <input type="hidden" name="user_type" value="teacher">
                            
                            <div>
                                <label for="teacher_id" class="block text-sm font-semibold text-gray-700 mb-2">
                                    <i class="fas fa-id-badge mr-1"></i>Teacher ID
                                </label>
                                <input type="text" id="teacher_id" name="user_id" required
                                       placeholder="Enter your teacher ID"
                                       class="input-field">
                            </div>

                            <button type="submit" class="btn-secondary w-full">
                                <i class="fas fa-sign-in-alt mr-2"></i>
                                Login as Teacher
                            </button>
                        </form>

                        <div class="mt-6 text-center">
                            <p class="text-gray-600 mb-3">New teacher?</p>
                            <a href="{{ url_for('teacher_register') }}" class="btn-outline">
                                <i class="fas fa-user-plus mr-2"></i>
                                Register Now
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {% else %}
            <!-- Welcome Back Section -->
            <div class="text-center mb-16">
                <div class="bg-white rounded-2xl shadow-xl p-8 max-w-2xl mx-auto">
                    <div class="w-20 h-20 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-user text-white text-3xl"></i>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">
                        Welcome back, {{ session.user_name }}!
                    </h2>
                    <p class="text-gray-600 mb-8">Ready to continue with your attendance management?</p>
                    
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        {% if session.user_type == 'student' %}
                            <a href="{{ url_for('student_dashboard') }}" class="btn-primary">
                                <i class="fas fa-tachometer-alt mr-2"></i>
                                Go to Dashboard
                            </a>
                            <a href="{{ url_for('mark_attendance') }}" class="btn-secondary">
                                <i class="fas fa-camera mr-2"></i>
                                Mark Attendance
                            </a>
                        {% elif session.user_type == 'teacher' %}
                            <a href="{{ url_for('teacher_dashboard') }}" class="btn-primary">
                                <i class="fas fa-tachometer-alt mr-2"></i>
                                Go to Dashboard
                            </a>
                            <a href="{{ url_for('manage_students') }}" class="btn-secondary">
                                <i class="fas fa-users mr-2"></i>
                                Manage Students
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endif %}

        <!-- Stats Section -->
        <div class="bg-white rounded-2xl shadow-xl p-8 mb-16">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">System Statistics</h3>
                <p class="text-gray-600">Real-time insights into our attendance system</p>
            </div>
            
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="stat-card">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-users text-blue-600 text-xl"></i>
                    </div>
                    <div class="text-2xl font-bold text-gray-900 mb-1">{{ total_students or 0 }}</div>
                    <div class="text-sm text-gray-600">Total Students</div>
                </div>

                <div class="stat-card">
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-check-circle text-green-600 text-xl"></i>
                    </div>
                    <div class="text-2xl font-bold text-gray-900 mb-1">{{ today_present or 0 }}</div>
                    <div class="text-sm text-gray-600">Present Today</div>
                </div>

                <div class="stat-card">
                    <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-percentage text-yellow-600 text-xl"></i>
                    </div>
                    <div class="text-2xl font-bold text-gray-900 mb-1">{{ attendance_rate or 0 }}%</div>
                    <div class="text-sm text-gray-600">Attendance Rate</div>
                </div>

                <div class="stat-card">
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-clock text-purple-600 text-xl"></i>
                    </div>
                    <div class="text-2xl font-bold text-gray-900 mb-1">&lt;1s</div>
                    <div class="text-sm text-gray-600">Recognition Time</div>
                </div>
            </div>
        </div>

        <!-- Technology Section -->
        <div class="text-center">
            <h3 class="text-2xl font-bold text-gray-900 mb-8">Powered by Advanced Technology</h3>
            
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="tech-card">
                    <i class="fas fa-eye text-4xl text-blue-600 mb-4"></i>
                    <h4 class="font-semibold text-gray-900">Computer Vision</h4>
                </div>

                <div class="tech-card">
                    <i class="fas fa-brain text-4xl text-green-600 mb-4"></i>
                    <h4 class="font-semibold text-gray-900">Machine Learning</h4>
                </div>

                <div class="tech-card">
                    <i class="fas fa-mobile-alt text-4xl text-purple-600 mb-4"></i>
                    <h4 class="font-semibold text-gray-900">Mobile Ready</h4>
                </div>

                <div class="tech-card">
                    <i class="fas fa-cloud text-4xl text-orange-600 mb-4"></i>
                    <h4 class="font-semibold text-gray-900">Cloud Based</h4>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.feature-card {
    @apply bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1;
}

.stat-card {
    @apply text-center p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors duration-200;
}

.tech-card {
    @apply bg-gray-50 p-6 rounded-xl text-center hover:bg-white hover:shadow-lg transition-all duration-300;
}
</style>
{% endblock %}
